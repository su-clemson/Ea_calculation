<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extraterrestrial Radiation Calculator</title>
    <script>
        function calculateRadiation() {
            const Gsc = 0.0820; // Solar constant (MJ/m²/min)
            let lat = parseFloat(document.getElementById("latitude").value);
            let date = new Date(document.getElementById("date").value);
            let dayOfYear = Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 86400000);

            // Calculate the solar declination (in radians)
            let declination = 23.45 * Math.sin((2 * Math.PI / 365) * (dayOfYear - 81)) * Math.PI / 180;

            // Calculate the inverse relative distance Earth-Sun (dr)
            let dr = 1 + 0.033 * Math.cos((2 * Math.PI / 365) * dayOfYear);

            // Calculate the solar hour angle (omega) at sunset
            let latRad = lat * Math.PI / 180;
            let omega = Math.acos(-Math.tan(latRad) * Math.tan(declination));

            // Calculate extraterrestrial radiation (Ra)
            let Ra = (24 * 60 / Math.PI) * Gsc * dr * (
                omega * Math.sin(latRad) * Math.sin(declination) +
                Math.cos(latRad) * Math.cos(declination) * Math.sin(omega)
            );

            document.getElementById("result").innerText = `Extraterrestrial Radiation: ${Ra.toFixed(2)} MJ/m²/day`;
        }
    </script>
</head>
<body>
    <h1>Extraterrestrial Radiation Calculator</h1>
    <p>Enter your latitude and date to calculate the extraterrestrial radiation (Ra).</p>

    <label for="latitude">Latitude (in degrees): </label>
    <input type="number" id="latitude" step="0.01" required><br><br>

    <label for="date">Date: </label>
    <input type="date" id="date" required><br><br>

    <button onclick="calculateRadiation()">Calculate</button>

    <h2 id="result"></h2>
</body>
</html>
